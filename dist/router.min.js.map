{"version":3,"file":"router.min.js","sources":["../src/router.js"],"names":["name","definition","module","exports","define","amd","this","addHashchangeListener","el","listener","context","addEventListener","attachEvent","oldHref","location","href","_listener","setInterval","newHref","_oldHref","type","newURL","oldURL","removeHashchangeListener","removeEventListener","detachEvent","clearInterval","extend","i","arguments","length","key","hasOwnProperty","Function","prototype","bind","object","originalFunction","args","Array","slice","call","shift","apply","concat","PATH_REPLACER","PATH_NAME_MATCHER","PATH_EVERY_MATCHER","PATH_EVERY_REPLACER","PATH_EVERY_GLOBAL_MATCHER","PATH_EVERY_GLOBAL_REPLACER","LEADING_BACKSLASHES_MATCH","Request","params","query","splat","hasNext","get","default_value","undefined","Router","options","_options","ignorecase","_routes","_befores","_errors","_","err","url","httpCode","console","warn","_404","_500","error","Error","_paused","_hasChangeHandler","_onHashChange","window","e","_route","_extractFragment","hash_index","indexOf","substring","_throwsRouteError","_buildRequestObject","fragmentUrl","request","completeFragment","split","queryKeyValue","queryString","qLen","decodeURI","replace","splats","_followRoute","matchedIndexes","index","splice","route","match","path","len","paramNames","j","push","next","uO","u","mI","error_code","routeAction","_routeBefores","befores","before","nextBefore","urlToTest","p","test","pause","play","triggerNow","setLocation","history","pushState","hash","redirect","addRoute","add","callback","modifiers","exec","RegExp","errors","isNaN","run","startUrl","destroy"],"mappings":"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"}